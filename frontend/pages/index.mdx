# Teleoscope

Teleoscope is a system for exploring large document sets by building machine learning workflows. Teleoscope (from [teleology](https://en.wikipedia.org/wiki/Teleology) and [telescope](https://en.wikipedia.org/wiki/Telescope)) helps to discover purpose and meaning. The system is designed with qualitative researchers in mind, but can be used by anyone interested in exploring [themes](https://en.wikipedia.org/wiki/Thematic_analysis) in a large dataset.



## See how it works
import YouTubeEmbed from "@/components/YouTube";
export function MakeYouTube() {
  return <YouTubeEmbed />;
}

<MakeYouTube />


## Tutorial

This tutorial uses data from Reddit's [AmITheAsshole](https://www.reddit.com/r/AmItheAsshole/) advice forum. Follow along step-by-step to learn how the Teleoscope system works and to explore this fascinating slice of the internet.

### Search

A Teleoscope workflow starts with a normal text search. You can use spaces for multiple search terms, quotes to search for exact phrases, and a minus sign to exclude words. The searches are case-insensitive and fuzzy, which means that suffixes such as `-ing` are ignored.

Try copying the following search and clicking on a post to read it.

```markdown copy
"friendly" wedding -mother
```

import Demo from "@/components/Demo/Demo";
export function MakeDemo(props) {
  return <Demo type={props.type} />;
}

<MakeDemo type="Search" />

import { Callout } from "nextra-theme-docs";

<Callout emoji="üí°">
  Use up ‚¨ÜÔ∏è or down ‚¨áÔ∏è to navigate the search results and `Enter` to
  **bookmark**.
</Callout>

### Bookmarks

You can choose documents that you'd like to save to read later by **bookmarking** them. Bookmarks are one of a few ways to **group** documents together. Try bookmarking by clicking on the ‚≠ê or by pressing `Enter` while a document is selected.

<br />

<MakeDemo type="Bookmarks" />

import GroupWorkIcon from "@mui/icons-material/GroupWork";
export function GroupIcon() {
  return <GroupWorkIcon />;
}

<Callout emoji="üí°">
  You can click the <GroupIcon /> to make a **group** from the existing
  bookmarks.
</Callout>

### Groups

You can create **groups** of documents. At first, you can use this just to organize your documents. But, as you use the Teleoscope system more, you'll start to use groups as a primary interaction mechanism.

<br />
<MakeDemo type="Groups" />

import PanToolIcon from "@mui/icons-material/PanTool";

import ControlCameraIcon from "@mui/icons-material/ControlCamera";

import ReadMoreIcon from "@mui/icons-material/ReadMore";

import HeightIcon from "@mui/icons-material/Height";

import RotateRightIcon from "@mui/icons-material/RotateRight";

import MapIcon from "@mui/icons-material/Map";

import AllOutIcon from "@mui/icons-material/AllOut";

### Workspace

All operations take place on the **Workspace**. You can:

- **Pan** by clicking and dragging on the background <PanToolIcon />
- **Move** by clicking and dragging on a workspace item's titlebar <ControlCameraIcon />
- **Resize** by clicking and dragging on the edge of a workspace item ‚ÜïÔ∏è ‚ÜîÔ∏è
- **Drag and drop** by clicking on a document in the group and dragging it outside of the group <ReadMoreIcon />
- **Zoom in and out** by scrolling the mouse wheel <RotateRightIcon />

There are also reset controls <AllOutIcon /> on the left and a minimap <MapIcon /> on the right if you get lost.

<br />

<MakeDemo type="Workspace" />

### Teleoscoping

Keyword searches, like above, are great, but they don't get you documents that are **conceptually** similar but have different keywords. With Teleoscope, you search by _example_. The big idea with the Teleoscope that we mix your example documents together to get a much more interesting and relevant results. You connect examples of documents (or groups) to the Teleoscope.

You can click and drag from **output** arrow of a document or group to the bottom **control input** arrow of a Teleoscope. Think of mixing together examples like mixing together paints. The Teleoscope produces a list of documents that are closest in concept (and math) to your example documents.

You can also restrict the Teleoscope to only rank from within a particular source such as a search or group by connecting to the top **source input**.

<br />

![Teleoscope](/teleoscope.gif)

### Projections

At some point, you might want groups to be automatically created for you. Similar to the Teleoscope function, you can use a **Projection** to automatically create clusters for you.
![Projection](/projection.gif)


### Notes
You can write **notes** for yourself just to keep notes. However, note contents are **vectorized**. This means that you can use them as **controls** for Teleoscopes.
![Notes](/note.gif)


## Concepts
Teleoscope is supported by a variety of computational systems. At its core, Teleoscope is a [distributed](https://en.wikipedia.org/wiki/Distributed_computing), [cloud-first](https://en.wikipedia.org/wiki/Cloud_computing), [machine-learning](https://en.wikipedia.org/wiki/Machine_learning) workflow editor that uses prebuilt language models and algorithms to perform [semi-supervised](https://en.wikipedia.org/wiki/Weak_supervision) [topic modelling](https://en.wikipedia.org/wiki/Topic_model). But that's a lot of buzzwords. In this section, we'll go over the core concepts and design choices for Teleoscope.

### Document representation
Document similarity is basically a measure of how many words, phrases, and sentences overlap between two documents. For example, a [bag-of-words](https://en.wikipedia.org/wiki/Bag-of-words_model) model might use the following process to produce a similarity score:

```
sentence_1 = "The dog walked to the park."
sentence_2 = "The dog chewed on a bone."
sentence_3 = "The dog napped in the park."
```

Getting rid of common words and word endings ([stemming](https://en.wikipedia.org/wiki/Stemming)), the sentences would be turned into:

```
sentence_1 = "dog walk park"
sentence_2 = "dog chew bone"
sentence_3 = "dog nap park"
```

If we count the overlapping words, `sentence 1` and `sentence 3` are the most similar. That should make intuitive sense: they both have "dog" and "park" in them. If we wanted to use a vector representation to check similarity, we would create a vector where each entry mapped to a single word. We will put a `1` in the vector if the word exists in the sentence, and a `0` otherwise.

```
vector     = < dog walk park chew bone nap >
sentence_1 = <   1    1    1    0    0   0 >
sentence_2 = <   1    0    0    1    1   0 >
sentence_3 = <   1    0    1    0    0   1 >
```

This simple example is only to build some intuition for how a document can be represented by a vector. We might want a model that "knows" that "cat" and "dog" are conceptually similar words. In Teleoscope, we use a pre-built model called the [Universal Sentence Encoder](https://www.tensorflow.org/hub/tutorials/semantic_similarity_with_tf_hub_universal_encoder) which allows for more complex semantic similarity to be captured. The USE model is good for capturing categorical similarities because it was trained on huge amounts of data. 

There is a core design trade-off between using a pre-built model vs. building a model off of the dataset that you're interested in studying. If you build your own model, you will create similarity scores based on how often words show up together in your own dataset. However, for words that most people would consider to be similar, you might not have enough data to create good similarity scores. For example, we might have a dataset where "dog" and "cat" do not appear very often near each other, or along with other conceptually similar words like "pet" or "fur". 

By starting with a model that has been trained on large amounts of data, we can capture semantics that a smaller model may not be able to. However, then we have the problem of determining similarities that might be present in our dataset, or in our minds, which may not be captured by the USE model. However, Teleoscope is model-agnostic. If you wanted to create a version of Teleoscope with a different model, it would be quite easy to do.


### The Teleoscope Ranking Tool
The eponymous Teleoscope tool ranks documents by similarity using the USE model. When multiple documents are input as `controls`, the Teleoscope will average the document vectors to give you a "mix" of the different vectors. In this way, a Teleoscope search is a **search by example**. You can connect many documents to tune the Teleoscope rank to follow conceptual similarities that you imagine. You can also vectorize your own sentences by creating a **note** and add it into the mix. 

In this way, you are building up a **visual trace** of a concept that you're exploring. You can capture your own thought process by seeing which documents are feeding into the Teleoscope, and what you had to do to come up with the machine representation you were interested in.

### Grouping and Projections
**Grouping** means that you've decided that certain documents are **thematically similar** whether or not the machine has. Of course, this can just be an organizational tool, but you can also use groups as inputs to Teleoscopes and **Projections**. This is where the power of the system can really be seen. 

A **Projection** produces groups of documents that the machine has clustered together as similar based on the groups you use as control inputs. It is called a projection because it performs [dimensionality reduction](https://en.wikipedia.org/wiki/Dimensionality_reduction) on the document vectors. Think "projection" like "projecting your shadow onto a wall." It's taking something higher-dimensional and creating a lower-dimensional representation of it. Teleoscope uses the [UMAP](https://umap-learn.readthedocs.io/en/latest/) library to perform our projections and [HDBSCAN](https://hdbscan.readthedocs.io/en/latest/how_hdbscan_works.html) to perform our clustering.

The practical upshot is that our system will attempt to cluster the document source based on the groups you provide. You can think of it like pruning a large, general language model like USE for your specific way of thinking about your document set.


## Example Workflow Patterns 

In this section, we will go over example ways to use our workflows to achieve desired outcomes.

### Ranking
![Rank](/rank-group.gif)
The Teleoscope tool ranks documents according to a source document. If you want to sort a source (search, document, or group) by similarity to another source, you can connect the one you want to rank to to the top source input, and the other to the bottom control input.

As you can see in this example, the document that the group is being sorted relative to is now at the top of the list.


### Unequal Weighting
![Weight](/weight-teleoscope.gif)
If you want to increase the influence of one source on the Teleoscope output, you can connect multiple copies of that source. Since the source vectors are averaged, having more copies of something allows you to weight the average. 


### Focus on a snippet of text
![Snippet](/note-snippet.gif)
Since notes can have arbitrary text, you can copy and paste a snippet of text into a note from a document. Connect the note to the control input of a Teleoscope to only use the snippet of text that you care about.
