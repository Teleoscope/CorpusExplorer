# Graph
bsonType: object
title: graph
required:
  - uid
  - type
  - workflow
  - status
  - doclists
  - parameters
  - edges
properties:
  uid:
    bsonType: string
    description: workflow uid for node in graph
  type:
    bsonType: string
    description: type of the node
  workflow:
    bsonType: objectId
    description: the workflow this node belongs to 
  status:
    bsonType: string
    description: for the graph
  reference:
    bsonType: objectId
    description: reference to non-graph object, e.g. document, search, group
  doclists:
    bsonType: array
    description: 
    items:
      bsonType: object
      description: 
      required:
        - id
        - nodeid
        - type
        - ranked_documents
      properties:
        id:
          bsonType: string
          description: id for this doclist 
        nodeid:
          bsonType: string
          description: on screen node id for this doclist 
        type:
          bsonType: string
          description: type of this doclist 
        ranked_documents:
          bsonType: string
          description: all documents in order accorting to rank in this doclist         
  parameters:
    bsonType: object
    description: parameters for the graph item
  edges:
    bsonType: object
    description: edges in and out of this graph item
    required:
      - source
      - control
      - output
    properties:
      source:
        bsonType: array
        description: a list of edges
      control:
        bsonType: array
        description: a list of edges
      output:
        bsonType: array
        description: a list of edges
      
    

  

#         "status": "loading",
#         "matrix": None,
#         "reference": oid,
#         "columns": [],
#         "doclists": [],
#         "parameters": create_parameters(node_type),
#         "edges": {
#             "source": [],
#             "control": [],
#             "output": []
#         }
#     }