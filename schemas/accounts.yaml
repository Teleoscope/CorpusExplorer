# Accounts
bsonType: object
title: account
required:
  - _id
  - users
  - resources
properties:
  _id:
    bsonType: objectId
    description: MongoDB auto-generated identifer
  users:
    bsonType: object
    description: Administrative users
    required:
      - owner
    properties:  
      owner:
        bsonType: objectId
        description: The user who manages the account
      admins:
        bsonType: array
        description: a list of members with admin priveleges
        items:
          bsonType: object
          description: admin members
          required:
            - _id
            - permissions
          properties:
            _id:
              bsonType: string
              description: The user who has admin priveleges
            permissions:
              bsonType: objectId
              description: permissions for the admin user
              required:
                - read
              properties:
                read:
                  bsonType: bool
                  description: whether a user can read the admin panel (minimum admin permission level)
                write:
                  bsonType: bool
                  description: whether a user can write to the admin panel
  resources:
    bsonType: object
    description: resources that this account currently has
    required:
      - amount_teams_available
      - amount_tokens_available
      - amount_seats_available
      - amount_storage_available
      - amount_teams_used
      - amount_tokens_used
      - amount_seats_used
      - amount_storage_used
    properties:
      amount_teams_available:
        bsonType: int
        description: the number of teams that an account can allocate
      amount_tokens_available:
        bsonType: int
        description_available: the number of tokens that an account can allocate
      amount_seats_available:
        bsonType: int
        description: the number of seats that an account can allocate
      amount_storage_available:
        bsonType: int
        description: the amount of storage (GB) that an account can allocate
      amount_teams_used:
        bsonType: int
        description: the number of teams that an account has allocated
      amount_tokens_used:
        bsonType: int
        description_used: the number of tokens that an account has allocated (refreshes monthly)
      amount_seats_used:
        bsonType: int
        description: the number of seats that an account has allocated
      amount_storage_used:
        bsonType: int
        description: the amount of storage (GB) that an account has allocated

  teams:
    bsonType: array
    description: workplace teams
    items:
      bsonType: object
      description: a team
      required:
        - _id
      properties:
        _id:
          bsonType: objectId
          description: team _id

  data:
    bsonType: array
    description: data storage units
    items:
      bsonType: objectId
      description: storage _id